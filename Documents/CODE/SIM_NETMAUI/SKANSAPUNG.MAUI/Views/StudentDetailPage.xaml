<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="SKANSAPUNG.MAUI.Views.StudentDetailPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:SKANSAPUNG.MAUI.ViewModels"
             x:DataType="viewmodels:StudentDetailViewModel"
             Title="Student Detail"
             BackgroundColor="{AppThemeBinding Light={StaticResource Gray50}, Dark={StaticResource Black}}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Student Info Card -->
            <Frame BackgroundColor="{StaticResource White}"
                   CornerRadius="15"
                   Padding="20">
                
                <Grid RowDefinitions="Auto,Auto,Auto" RowSpacing="15">
                    <Label Grid.Row="0"
                           Text="Student Information"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="{StaticResource Gray800}"/>
                    
                    <Grid Grid.Row="1" ColumnDefinitions="Auto,*" ColumnSpacing="15">
                        <Image Grid.Column="0"
                               Source="{Binding Student.Image, FallbackValue='default_avatar.png'}"
                               HeightRequest="80"
                               WidthRequest="80"
                               Aspect="AspectFill"/>
                        
                        <VerticalStackLayout Grid.Column="1" Spacing="5">
                            <Label Text="{Binding Student.NamaLengkap}"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Gray800}"/>
                            
                            <Label Text="{Binding Student.Nis, StringFormat='NIS: {0}'}"
                                   FontSize="14"
                                   TextColor="{StaticResource Gray600}"/>
                            
                            <Label Text="{Binding Student.Email}"
                                   FontSize="14"
                                   TextColor="{StaticResource Gray600}"/>
                            
                            <Label Text="{Binding Student.JenisKelamin, StringFormat='Gender: {0}'}"
                                   FontSize="14"
                                   TextColor="{StaticResource Gray600}"/>
                        </VerticalStackLayout>
                    </Grid>
                    
                    <Button Grid.Row="2"
                            Text="Edit Student"
                            Command="{Binding EditStudentCommand}"
                            BackgroundColor="{StaticResource Primary}"
                            TextColor="{StaticResource White}"
                            FontSize="16"
                            FontAttributes="Bold"
                            CornerRadius="10"
                            HeightRequest="50"/>
                </Grid>
            </Frame>

            <!-- Class Information -->
            <Frame BackgroundColor="{StaticResource White}"
                   CornerRadius="15"
                   Padding="20">
                
                <VerticalStackLayout Spacing="15">
                    <Label Text="Class Information"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="{StaticResource Gray800}"/>
                    
                    <Grid RowDefinitions="Auto,Auto,Auto" RowSpacing="10">
                        <Label Grid.Row="0"
                               Text="{Binding Student.ClassRoom.Name, StringFormat='Class: {0}'}"
                               FontSize="16"
                               TextColor="{StaticResource Gray700}"/>
                        
                        <Label Grid.Row="1"
                               Text="{Binding Student.ClassRoom.Level, StringFormat='Level: {0}'}"
                               FontSize="16"
                               TextColor="{StaticResource Gray700}"/>
                        
                        <Label Grid.Row="2"
                               Text="{Binding Student.ClassRoom.Department.Name, StringFormat='Department: {0}'}"
                               FontSize="16"
                               TextColor="{StaticResource Gray700}"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <!-- Contact Information -->
            <Frame BackgroundColor="{StaticResource White}"
                   CornerRadius="15"
                   Padding="20">
                
                <VerticalStackLayout Spacing="15">
                    <Label Text="Contact Information"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="{StaticResource Gray800}"/>
                    
                    <Grid RowDefinitions="Auto,Auto" RowSpacing="10">
                        <Label Grid.Row="0"
                               Text="{Binding Student.Telp, StringFormat='Phone: {0}'}"
                               FontSize="16"
                               TextColor="{StaticResource Gray700}"/>
                        
                        <Label Grid.Row="1"
                               Text="{Binding Student.Email, StringFormat='Email: {0}'}"
                               FontSize="16"
                               TextColor="{StaticResource Gray700}"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage> 